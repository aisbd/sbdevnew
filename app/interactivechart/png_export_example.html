<html>
<head><title>FnCharts - Powerful Financial Charts</title></head>
<body>
<h3>FnCharts - this example shows how to export charts as PNG images</h3>
<p>
A WWW server with PHP support is required for this example.
To use the example, copy the following to a directory on your web server:
</p>
<ul>
<li>'png_export_example.html' - HTML page containing the applet and HTML FORM used to send generated images to a server</li>
<li>'png_displayimage.php' - PHP script that handles generated PNG images</li>
<li>'fncharts' - directory that contains the applet and sample data files</li>
</ul>
<p>
<applet name="FnChartsApplet" width="750" height="510" codebase="fncharts" code="FnChartsApplet.class" archive="fncharts.jar" mayscript="true">
  <!-- APPLET CONFIGURATION PARAMETERS -->
  <param name="AppletName" value="FnChartsApplet">
  <param name="_UserID" value="sample_id12345">
  <param name="Copyright" value="Copyright (c) 1999-2012 WD SOFTWARE http://www.wdsoftware.com">
  <param name="Encoding" value="ISO8859_1">
  <!-- DATA ACCESS PARAMETERS -->
  <param name="DataSource" value="data/{symbol}.txt">
  <param name="IntradayDataSource" value="data/{symbol}_intra.txt.gz">
  <param name="DataIsTimeCompressed" value="false">
  <param name="DisplayDataRequests" value="false">
  <param name="SetRequestProperty_UserAgent" value="FnCharts PRO">
  <param name="SetRequestProperty_Cookie" value="">
  <param name="UseBrowserCache" value="true">
  <param name="EnableWeekends" value="false">
  <param name="MaxSymbolLength" value="12">
  <!-- AUTOMATIC DATA REFRESH CONFIGURATION -->
  <param name="AutoRefreshTime" value="30">
  <param name="AutoRefreshBeep" value="true">
  <!-- CACHE MEMORY CONFIGURATION -->
  <param name="UnusedCacheRecycleTime" value="10">
  <!-- PREDEFINED SYMBOLS DISPLAYED AUTOMATICALLY AT STARTUP -->
  <param name="Symbol" value="SAMPLE1">
  <param name="SecondarySymbol" value="">
  <!-- PREDEFINED FAVORITE SYMBOLS -->
  <param name="FavoriteSymbols" value="SAMPLE1,SAMPLE2,SAMPLE3,SAMPLE4">
  <!-- USER CONFIGURATION SETTINGS-->
  <param name="_UserConfigurationLoadURL" value="userdata/load_configuration.php?userID={UserID}">
  <param name="_UserConfigurationSaveURL" value="userdata/save_configuration.php?userID={UserID}">
  <param name="LoadUserConfigurationOnStartup" value="true">
  <param name="RestoreSelectedSymbolsFromUserConfiguration" value="false">
  <!-- USER STUDIES SETTINGS-->
  <param name="AutoLoadStudies" value="false">
  <param name="_UserStudiesLoadURL" value="userdata/load_studies.php?userID={UserID}&symbol={symbol}&dataType={Periodicity}">
  <param name="_UserStudiesSaveURL" value="userdata/save_studies.php?userID={UserID}&symbol={symbol}&dataType={Periodicity}">
  <!-- CONFIGURATION OF BUY AND SELL BUTTONS -->
  <param name="BuyURL" value="">
  <param name="SellURL" value="">
  <param name="target" value="_blank">
  <param name="BuySellAction" value="">
  <param name="EnableStatusBarBuySellButtons" value="true">
  <!-- USER-DEFINED INDICATORS -->
  <param name="_PredefinedIndicatorsURL" value="userdata/predefined_indicators.txt">
  <param name="_UserIndicatorsLoadURL" value="userdata/load_indicators.php?userID={UserID}">
  <param name="_UserIndicatorsSaveURL" value="userdata/save_indicators.php?userID={UserID}">
  <param name="EnableUserIndicatorDefinition" value="false">
  <!-- INITIAL TECHNICAL ANALYSIS SETTINGS (OVERRIDABLE BY USERS) -->
  <param name="ChartType" value="candle">
  <param name="Scale" value="LogUncorrelated">
  <param name="UseOldTimeCompressionMethod" value="false">
  <param name="TimeCompression" value="day">
  <param name="Indicators" value="CCVol;MACD(12,26,9);ROC(5,9);RSI(14,30,70)">
  <param name="PriceIndicators" value="EMA1;EMA2;EMA3">
  <param name="TimeCompressionOptions" value="day,week,month,intraday,intraday_1s,intraday_2s,intraday_3s,intraday_4s,intraday_5s,intraday_10s,intraday_15s,intraday_20s,intraday_30s,intraday_1,intraday_2,intraday_3,intraday_4,intraday_5,intraday_10,intraday_15,intraday_20,intraday_30,intraday_60">
  <!-- INITIAL VISIBLE RANGE (CUSTOMIZABLE BY USERS)-->
  <param name="DisplayRange" value="6months">
  <!-- INITIAL TIMEFRAME SETTINGS (CUSTOMIZABLE BY USERS)-->
  <param name="Timeframe" value="0">
  <param name="IntradayTimeframe" value="0">
  <!-- UI APPEARANCE -->
  <param name="Toolbar1" value="btnMaximize,btnUseBrowserCache,btnAutoRefreshSwitch,btnAutoRefreshBeepSwitch,Separator6,btnRefresh,btnMoveLeft,btnZoomIn,btnZoomOut,btnMoveRight,btnSetRange,selectRange,Separator6,btnLine,btnOhlc,btnCandle,Separator6,btnScaleLogCor,btnScaleLogUncor,btnScaleLinCor,btnScaleLinUncor,btnScalePercent,Separator6,selectDataCompression,Separator6,btnSetTimeFrame,btnChartProperties,btnSymbolEntryVisibilitySwitch">
  <param name="Toolbar2" value="btnAddIndicator,Separator6,btnParabolicSAR,Separator3,btnPivotPoints,Separator3,btnDMA,Separator6,btnWMA,Separator2,txtWMAParam,Separator6,btnBol,Separator2,txtBolParam,Separator6,btnEma1,Separator2,txtEma1Param,btnEma2,Separator2,txtEma2Param,btnEma3,Separator2,txtEma3Param,Separator6,btnSma1,Separator2,txtSma1Param,Separator6,btnSma2,Separator2,txtSma2Param,Separator6,btnSma3,Separator2,txtSma3Param">
  <param name="BorderColor" value="0x000000">
  <param name="UIFontName" value="">
  <param name="UIFontSize" value="12">
  <param name="UIFontStyle" value="PLAIN">
  <param name="UIBgColor" value="0xF6F4F2">
  <param name="UITextColor" value="0x000000">
  <param name="StatusBarFontName" value="">
  <param name="StatusBarFontSize" value="11">
  <param name="StatusBarFontStyle" value="PLAIN">
  <param name="ImageButtonBgColor" value="0xFBF7EF">
  <param name="ImageButtonFrameColor" value="0x000000">
  <param name="IconType" value="COLOR">
  <param name="HideSymbolEntryForm" value="false">
  <param name="EnableSymbolListModification" value="true">
  <param name="SymbolEntryFormWidth" value="">
  <param name="DisableAppletDetachment" value="false">
  <param name="DisableSymbolEntryFormVisibilitySwitch" value="false">
  <!-- CHART APPEARANCE -->
  <param name="DisableMouseWheelScrolling" value="true">
  <param name="RestrictToolsToChartFg" value="false">
  <param name="ShowTitle" value="true">
  <param name="ShowLegend" value="true">
  <param name="ShowCrosshair" value="true">
  <param name="ShowGrid" value="true">
  <param name="ShowBuySellSignals" value="true">
  <param name="ChartBgColor" value="0xFAFAEF">
  <param name="ChartFgColor" value="0xFFFFFF">
  <param name="ChartTitleColor" value="0x000000">
  <param name="ChartTitleBgColor" value="0xFFFFFF">
  <param name="ChartTitleFrameColor" value="">
  <param name="AxisColor" value="0x808080">
  <param name="AxisLabelColor" value="0x000000">
  <param name="AxisLabelBgColor" value="">
  <param name="AxisLabelFrameColor" value="">
  <param name="InfoLineColor" value="0xE00000">
  <param name="InfoLineBgColor" value="">
  <param name="InfoLineFrameColor" value="">
  <param name="ProgressBarColor" value="0xFF0000">
  <param name="BuySignalColor" value="0x00C800">
  <param name="SellSignalColor" value="0xE80000">
  <param name="DecimalPlaces" value="-1">
  <param name="DateDisplayFormat" value="mm/dd/yyyy">
  <!-- CHART FONTS -->
  <param name="ChartTitleFontName" value="">
  <param name="ChartTitleFontSize" value="10">
  <param name="ChartTitleFontStyle" value="PLAIN">
  <param name="InfoLineFontName" value="">
  <param name="InfoLineFontSize" value="10">
  <param name="InfoLineFontStyle" value="PLAIN">
  <param name="AxisLabelFontName" value="">
  <param name="AxisLabelFontSize" value="10">
  <param name="AxisLabelFontStyle" value="PLAIN">
  <param name="LegendFontName" value="SansSerif">
  <param name="LegendFontStyle" value="BOLD">
  <param name="LegendFontSize" value="11">
  <!-- CHART COLORS (CUSTOMIZABLE BY USERS) -->
  <param name="GridColor" value="0xD8D8D8">
  <param name="CrosshairColor" value="0xC0C0C0">
  <param name="PriceColor" value="0x008000">
  <param name="BullishCandleColor" value="0x00A000">
  <param name="BearishCandleColor" value="0xFF0000">
  <param name="UseAdvancedCandleColoringSystem" value="true">
  <param name="UseAdvancedOHLCColoringSystem" value="true">
  <param name="BgPriceColor" value="0xB09080">
  <param name="ExtraPriceColor" value="0xF80000,0x00E000,0x0000F0,0xcc66cc,0xffcc33,0x00cccc,0xc0c0c0,0x996633,0xffff00,0x99aa00">
  <param name="DMAColor" value="0x808080">
  <param name="OpenInterestColor" value="0x0000A0">
  <param name="EMA1Color" value="0x00B0C0">
  <param name="EMA2Color" value="0xBF00BF">
  <param name="EMA3Color" value="0x1135BF">
  <param name="SMA1Color" value="0xF08080">
  <param name="SMA2Color" value="0xFF80FF">
  <param name="SMA3Color" value="0x81B5FF">
  <param name="WMAColor" value="0x00DD00">
  <param name="BOLColor" value="0x808080">
  <param name="ParabolicSARColor" value="0x5185FF">
  <param name="IndicatorColor" value="0x0000D0,0xF4B000,0x00A000">
  <param name="CCVolColor" value="0x00A000,0xF00000,0x202020">
  <param name="TrendLineColor" value="0xFF0000">
  <param name="IndicatorSpecificLineColor" value="0x000000">
  <!-- CHART LINE WIDTHS (CUSTOMIZABLE BY USERS) -->
  <param name="PriceLineWidth" value="2">
  <param name="BgPriceLineWidth" value="0">
  <param name="ExtraPriceLineWidth" value="0,0,0,0,0,0,0,0,0,0">
  <param name="OpenInterestLineWidth" value="1">
  <param name="EMA1LineWidth" value="0">
  <param name="EMA2LineWidth" value="0">
  <param name="EMA3LineWidth" value="0">
  <param name="SMA1LineWidth" value="1">
  <param name="SMA2LineWidth" value="1">
  <param name="SMA3LineWidth" value="1">
  <param name="WMALineWidth" value="0">
  <param name="BOLLineWidth" value="0,0">
  <param name="ParabolicSARLineWidth" value="1">
  <param name="IndicatorLineWidth" value="1,0,0">
  <param name="MaxOhlcWidth" value="6">
  <param name="MinOhlcWidth" value="0">
  <param name="MaxCandleWidth" value="6">
  <param name="MinCandleWidth" value="1">
  <param name="MaxVolumeWidth" value="5">
  <param name="MinVolumeWidth" value="0">
  <param name="DoubleVolumeWidth" value="false">

  <!-- Parameters used for printing and exporting charts -->
  <param name="FooterText" value="Image generated by FnCharts">
  <param name="FooterTextColor" value="0x808080">
  <param name="ChartFrameColor" value="0x000000">
  <param name="FooterFontName" value="SansSerif">
  <param name="FooterFontSize" value="9">
  <param name="FooterFontStyle" value="PLAIN">

  <!-- THIS MESSAGE IS DISPLAYED WHEN JAVA SUPPORT IS NOT ENABLED -->
   Java support must be enabled in order to display FnCharts.
   <br>You can download Java from <a href="http://www.java.com">http://www.java.com</a>
</applet>
<br>
    <script type="text/javascript">
    	function retrieveChart(){
    		var width = 640;
    		var height = 460;
    		var imageData = document.FnChartsApplet.getChartAsBase64EncodedPNG(width, height);
    		if(imageData != ""){
    			document.imageform.imagedata.value = imageData;
    			return true;
    		}
    	}
    </script>
    <form name="imageform" action="png_displayimage.php" method="POST">
    <input type="submit" value="Export chart as PNG" onclick="javascript:retrieveChart()">
    <input type="hidden" name="imagedata" value="">
    </form>

</p>

</body>
</html>
